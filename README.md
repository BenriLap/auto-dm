
# AutoDM

**[项目仓库主页](https://github.com/BenriLap/auto-dm)**

AutoDM 是一个在 Windows 平台上，根据事先设定好的开始结束时间或地理位置推算出的日出日落时间，自动更改“默认 Windows 模式”和“默认应用模式”的深色、浅色设置的应用程序。

## 目录

- [帮助](#帮助)

	- [参数](#参数)
	- [输入](#输入)
	- [注意事项](#注意事项)

- [配置文件格式](#配置文件格式)
- [项目负责人](#项目负责人)

## 帮助

### 参数

- `version` 输出版本信息
- `help` 输出帮助信息
- `setting` 查看并更改配置文件
- `setting [path]` 导入配置文件
- `selfstart` 查看并更改自启动设置

### 输入

- #### 输入时间

	- 时间使用 24 小时制
	- 小时 $\in [0,23]$
	- 分钟 $\in [0,59]$

- #### 输入经纬度

	- 经度度 $\in [-179,180]$ 正数表示东经，负数表示西经
	- 经度分 $\in [0,59]$
	- 经度秒 $\in [0,59]$
	- 纬度度 $\in [-90,90]$ 正数表示北纬，负数表示南纬
	- 纬度分 $\in [0,59]$
	- 纬度秒 $\in [0,59]$

- #### 输入 `[Y/N]`

	- `Y` 、 `y` 、 `1` 都代表肯定输入
	- `N` 、 `n` 、 `0` 都代表否定输入

- #### 输入选项

	- 输入括号中给出的选项代号

### 注意事项

- 开始时间指深色模式的开始时间，结束时间指深色模式的结束时间
- 输入的数据应当在规定范围内
- 可执行文件目录

	- `config` 存放配置文件
	- `wallpaper` 存放深色和浅色模式下的壁纸
	- `AutoDM.exe` 主程序可执行文件

- 开启自启动功能会在注册表 `HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Run` 下创建名为 `AutoDM` 的值，在注册表 `HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\RunNotification` 下创建名为 `StartupTNotiAutoDM` 的值，如果通过应用程序无法解除自启动，请手动删除对应注册表值。

## 配置文件格式

- 8B 文件头

	- 4B 二进制文件格式标签 `BLAD`
	- 1B 二进制文件版本
	- 1B 选择的时间模式
	- 2B 保留

- 4B 固定时间模式设置项分区

	- 1B 分区标签

		- 4b 分区代号
		- 4b 分区剩余长度

	- 3B 时间

		- 6b 开始小时
		- 6b 结束小时
		- 6b 开始分钟
		- 6b 结束分钟

- 8B 固定时间模式设置项分区

	- 1B 分区标签

		- 4b 分区代号
		- 4b 分区剩余长度

	- 1B 经度方向
	- 1B 经度度
	- 1B 纬度度
	- 3B 经纬度分秒

		- 6b 经度分
		- 6b 经度秒
		- 6b 纬度分
		- 6b 纬度秒

	- 1B 保留

- 4B 设置分区

	- 1B 分区标签

		- 4b 分区代号
		- 4b 分区剩余长度

	- 1B 更改的模式

		- 4b 是否更改 Windows 模式
		- 4b 是否更改应用模式

	- 1B 是否更改壁纸
	- 1B 保留

## 项目负责人

[@BenriLap](https://github.com/BenriLap)
